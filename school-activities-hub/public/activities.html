<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Activities • School Activities Hub</title>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<header>
		<div class="container navbar">
			<div class="brand">
				<img src="images/logo.svg" alt="School logo">
				<span>Riverside High School</span>
			</div>
			<nav>
				<a href="index.html">Home</a>
				<a href="activities.html" class="active">Activities</a>
				<a href="contact.html">Contact</a>
			</nav>
		</div>
	</header>

	<main class="container">
		<section class="section">
			<h1>Activities</h1>
			<p class="lead">Browse and learn more about clubs, teams, and volunteering opportunities.</p>
			<div id="activities-grid" class="grid" aria-live="polite"></div>
		</section>
	</main>

	<footer class="footer container">
		<p>&copy; <span id="year"></span> Riverside High School • Extracurricular Activities Hub</p>
	</footer>

	<script src="app.js"></script>
	<script>
		document.getElementById('year').textContent = new Date().getFullYear();
		(async function loadActivities() {
			const grid = document.getElementById('activities-grid');
			try {
				const activities = await App.apiRequest('/api/activities');
				if (!Array.isArray(activities) || activities.length === 0) {
					grid.innerHTML = '<p>No activities found at the moment.</p>';
					return;
				}
				grid.innerHTML = activities.map(a => `
					<article class="card" tabindex="0">
						<img src="${a.image}" alt="${a.name} image">
						<div class="card-body">
							<span class="badge">${a.location}</span>
							<h3>${a.name}</h3>
							<p>${a.shortDescription}</p>
						</div>
						<div class="actions">
							<a class="button secondary" href="activities/${a.slug}.html">Learn More</a>
						</div>
					</article>
				`).join('');
			} catch (err) {
				grid.innerHTML = '<p class="error">Failed to load activities. Please refresh.</p>';
			}
		})();
	</script>
</body>
</html>